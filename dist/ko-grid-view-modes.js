/*
 Copyright (c) 2015, Ben Schulz
 License: BSD 3-clause (http://opensource.org/licenses/BSD-3-Clause)
*/
function n(p,q){return function(l){return l}(function(l,a,d,b){b.defineExtension("ko-grid-view-modes",{K:function(b,k,c){b=function(m){return function(g,e){var f="string"===typeof g?[g]:d.b.m(g),a=this.h();f.forEach(function(c){if(d.b.contains(a,c)===m)throw Error("Mode `"+c+"` is already "+(m?"active":"inactive")+".");});c.layout.recalculate(function(){this.h.valueWillMutate();var g=c.element.classList;if(m)Array.prototype.push.apply(a,f),g.add.apply(g,f);else{var b=a.filter(function(c){return!d.b.contains(f,
c)});a.length=0;Array.prototype.push.apply(a,b);g.remove.apply(g,f)}a.sort();e&&e();this.h.valueHasMutated()}.bind(this))}.bind(this)}.bind(this);this.h=a.observableArray([]);this.t=b(!0);this.B=b(!1);this.activeModes=this.h;this.enver=this.t;this.leave=this.B}});return b.declareExtensionAlias("viewModes","ko-grid-view-modes")}({},q,function(){var l;l=function(){function a(d,a){return Object.prototype.hasOwnProperty.call(d,a)}return{p:function(d,a){if(d===a)return!0;var h=!!a&&"function"===typeof a.valueOf;
return!!d&&"function"===typeof d.valueOf&&h&&d.valueOf()===a.valueOf()},extend:function(a,b){Array.prototype.slice.call(arguments,1).forEach(function(b){for(var k=Object.keys(b),c=0,m=k.length;c<m;c++){var g=k[c],e=Object.getOwnPropertyDescriptor(b,g);void 0!==e&&e.enumerable&&Object.defineProperty(a,g,e)}});return a},v:function(d,b){for(var h in d)a(d,h)&&b(h,d[h])},k:a,C:function(d,b){var h={},k;for(k in d)a(d,k)&&(h[k]=b(d[k],k,d));return h}}}();return function(a){return a}(function(a,d,b,h){return{b:a,
d:d,f:b,i:h}}(function(a){function d(c){return c.filter(function(c,a,d){return d.lastIndexOf(c)===a})}function b(c,a){for(var d=c.length,e=-1,f=0;f<d;++f)if(a(c[f])){if(0<=e)throw Error("Multiple elements match the predicate.");e=f}return e}function h(c,a){return c&&"function"===typeof c.valueOf&&a&&"function"===typeof a.valueOf?c.valueOf()<=a.valueOf()?c.valueOf()<a.valueOf()?-1:0:1:c<=a?c<a?-1:0:1}function k(c,a){var d=c.length,e=Array(d),f=Array(d),b;for(b=0;b<d;++b)e[b]=b,f[b]=c[b];b=c;c=f;f=
b;e.sort(function(d,b){return a(c[d],c[b])||d-b});for(b=0;b<d;++b)f[b]=c[e[b]];return f}return{contains:function(c,a){return 0<=c.indexOf(a)},m:function(c){if(50<c.length){for(var b=c.length,g={},e,f=0;f<b;++f)if(e=c[f],"string"===typeof e)if(a.k(g,e))break;else g[e]=!0;else if(c.lastIndexOf(e)!==f)break;if(!(f>=b)){for(var h=c.slice(0,f);f<b;++f)e=c[f],"string"===typeof e?a.k(g,e)||(g[e]=!0,h.push(e)):c.lastIndexOf(e)===f&&h.push(e);c=h}}else c=d(c);return c},u:function(c,a){return Array.prototype.concat.apply([],
c.map(a))},F:function(a,d){var g=b(a,d);if(0>g)throw Error("None of the elements matches the predicate.");return a[g]},G:function(a,d){var g=b(a,d);return 0<=g?a[g]:null},H:function(a,d){var b=d||h;window.chrome?b=k(a,b):(a.sort(b),b=a);return b}}}(l),function(){function a(a){return function(){return a}}return{Y:a(!0),N:a(!1),S:a(void 0),T:a(null),Z:a(0),q:a,w:function(a){return a}}}(),l,{r:function(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})},s:function(a){return a.replace(/-([a-z])/g,
function(a){return a[1].toUpperCase()})},format:function(a){var d=arguments;return a.replace(/{(\d+)}/g,function(a,h){var k=parseInt(h,10)+1;return typeof d.length<=k?a:d[k]})}}))}(),p))}"function"===typeof define&&define.amd?define(["ko-grid","knockout","ko-data-source","ko-indexed-repeat"],n):window["ko-grid-view-modes"]=n(window.ko.bindingHandlers.grid,window.ko);